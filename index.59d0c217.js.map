{"mappings":"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","sources":["src/index.js"],"sourcesContent":["const banks = [\n  {\n    id: '435tr34wrt',\n    name: 'Mono',\n    interestRate: 5,\n    maxLoan: 500000,\n    minPayment: 1000,\n    loanTerm: 12,\n  },\n  {\n    id: 'asdfw342rew5',\n    name: 'Privat',\n    interestRate: 7,\n    maxLoan: 1000000,\n    minPayment: 5000,\n    loanTerm: 50,\n  },\n];\n\nconst rootEl = document.querySelector('#root');\n\nconst containerBanks = document.createElement('div');\nconst descrBank = document.createElement('div');\nconst listOfBanks = document.createElement('ul');\nconst buttonNewBank = document.createElement('button');\n\ncontainerBanks.classList.add('containerBanks');\ndescrBank.classList.add('descrBank');\nlistOfBanks.classList.add('list');\nbuttonNewBank.classList.add('buttonNewBank');\nbuttonNewBank.textContent = 'Add new Bank';\n\nrootEl.append(containerBanks, descrBank);\ncontainerBanks.append(listOfBanks, buttonNewBank);\n\nfunction renderBankList() {\n  const bankArray = banks\n    .map(\n      bank => `\n      <li class=\"bank\" data-id = \"${bank.id}\">\n        <p class = \"titel\">${bank.name}</p>\n          <div>\n            <button class = \"btn btn__edit\">Edit</button>\n            <button class = \"btn btn__delete\">Delete</button>\n          </div>\n        </li>\n      `\n    )\n    .join('');\n\n  listOfBanks.innerHTML = bankArray;\n\n  listOfBanks.addEventListener('click', showDescriptionOfBanks);\n}\n\nrenderBankList();\n\nfunction showDescriptionOfBanks(e, active) {\n  if (e.target.nodeName !== 'LI' && e.target.textContent !== 'Edit') return;\n\n  const bankId = e.target.closest('.bank').dataset.id;\n  // console.log(bankId);\n  const selectedBank = banks.find(bank => bank.id === bankId);\n  // console.log(selectedBank);\n\n  const descriptionOfBank = `\n      <ul class = \"list description\">\n        <li class = \"item-descr\" ><label>Bank:<input value = \"${selectedBank.name}\" name = \"name\" disabled></label></li>\n        <li class = \"item-descr\" ><label>Interest Rate:<input value = \"${selectedBank.interestRate}\" name = \"interestRate\" disabled></label></li>\n        <li class = \"item-descr\" ><label>Max Loan:<input value = \"${selectedBank.maxLoan}\" name = \"maxLoan\" disabled></label></li>\n        <li class = \"item-descr\" ><label>Min Payment:<input value = \"${selectedBank.minPayment}\" name = \"minPayment\" disabled></label></li>\n        <li class = \"item-descr\" ><label>Loan Term:<input value = \"${selectedBank.loanTerm}\" name = \"loanTerm\" disabled></label></li>\n      </ul>`;\n\n  descrBank.innerHTML = descriptionOfBank;\n}\n\nrootEl.addEventListener('click', clikOnChangesBtn);\n\nfunction clikOnChangesBtn(e) {\n  e.preventDefault();\n\n  if (e.target.textContent === 'Edit') {\n    // console.log(e.target.textContent);\n\n    showDescriptionOfBanks(e);\n    e.target.textContent = '✓';\n\n    const bankId = e.target.closest('.bank').dataset.id;\n    const selectedBank = banks.find(bank => bank.id === bankId);\n\n    descrBank.addEventListener('input', desckrChange);\n\n    function desckrChange(e) {\n      const titelEl = document.querySelector(`[data-id = \"${bankId}\"] .titel`);\n\n      if (e.target.name === 'name') {\n        selectedBank.name = e.target.value;\n        titelEl.textContent = e.target.value;\n      } else if (e.target.name === 'interestRate')\n        selectedBank.interestRate = +e.target.value;\n      else if (e.target.name === 'maxLoan')\n        selectedBank.maxLoan = +e.target.value;\n      else if (e.target.name === 'minPayment')\n        selectedBank.minPayment = +e.target.value;\n      else if (e.target.name === 'loanTerm')\n        selectedBank.loanTerm = +e.target.value;\n    }\n\n    desckrChangeDisabled(false);\n  } else if (e.target.textContent === '✓') {\n    e.target.textContent = 'Edit';\n\n    desckrChangeDisabled(true);\n  }\n\n  function desckrChangeDisabled(status) {\n    const itemsDesckr = descrBank.firstElementChild.children;\n\n    [...itemsDesckr].map(\n      e =>\n        (e.querySelector('input').disabled = e.querySelector('input').disabled =\n          status)\n    );\n  }\n\n  if (e.target.textContent === 'Delete') {\n    // console.log(e.target.textContent);\n\n    const bankEl = e.target.closest('.bank');\n    const bankId = e.target.closest('.bank').dataset.id;\n    const indexBank = banks.findIndex(bank => bank.id === bankId);\n\n    bankEl.remove();\n    banks.splice(indexBank, 1);\n    console.log(banks);\n\n    if (!areThereAnyBanks('bank')) {\n      const blank = `<li class = \"add-first-bank\">\n        <p>\n          Add your first bank\n        </p>\n      </li>`;\n\n      listOfBanks.insertAdjacentHTML('beforeend', blank);\n\n      listOfBanks.removeEventListener('click', showDescriptionOfBanks);\n    }\n  }\n}\n\nfunction areThereAnyBanks(classChek) {\n  const arrOfBanks = [...listOfBanks.children];\n  return arrOfBanks.some(arr => arr.classList.contains(classChek));\n}\n\nbuttonNewBank.addEventListener('click', clikOnNewBank);\n\nfunction clikOnNewBank(e) {\n  e.preventDefault();\n\n  if (areThereAnyBanks('add-first-bank')) {\n    listOfBanks.querySelector('.add-first-bank').remove();\n  }\n\n  const newBank = `<li class = \"bank\">\n    <form class = \"form__new-bank\">\n      <input class = \"add-new-bank\" name = \"new_bank\">\n      <button class = \"btn btn__agree\">&#10003</button>\n    </form>\n  </li>`;\n\n  listOfBanks.insertAdjacentHTML('beforeend', newBank);\n\n  document.querySelector('input[name = \"new_bank\"]').focus();\n\n  buttonNewBank.disabled = true;\n\n  const formNewBank = document.querySelector('.form__new-bank');\n\n  formNewBank.addEventListener('click', agreeNewBank);\n\n  function agreeNewBank(e) {\n    if (e.target.nodeName !== 'BUTTON') return;\n\n    banks.push({\n      id: `${Date.now()}`,\n      name: formNewBank.firstElementChild.value,\n      interestRate: '',\n      maxLoan: '',\n      minPayment: '',\n      loanTerm: '',\n    });\n\n    buttonNewBank.disabled = false;\n    renderBankList();\n\n    console.log(banks);\n  }\n}\n"],"names":["_arrayLikeToArray","arr","len","banks","id","name","interestRate","maxLoan","minPayment","loanTerm","rootEl","document","querySelector","containerBanks","createElement","descrBank","listOfBanks","buttonNewBank","renderBankList","bankArray","map","bank","concat","join","innerHTML","addEventListener","showDescriptionOfBanks","e","active","target","nodeName","textContent","bankId","closest","dataset","selectedBank","find","descriptionOfBank","clikOnChangesBtn","e1","preventDefault","titelEl","value","desckrChangeDisabled","status","_toConsumableArray","firstElementChild","children","disabled","bankEl","bankId1","indexBank","findIndex","remove","splice","console","log","areThereAnyBanks","insertAdjacentHTML","removeEventListener","classChek","some","classList","contains","clikOnNewBank","e2","focus","formNewBank","push","Date","now","add","append"],"version":3,"file":"index.59d0c217.js.map"}